<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ============================================================= -->
    <!-- VISTAS - building.work (Dashboard Principal de Obra)           -->
    <!-- ============================================================= -->

    <!-- Vista Form: Dashboard Principal -->
    <record id="building_work_view_form" model="ir.ui.view">
        <field name="name">building.work.form.dashboard</field>
        <field name="model">building.work</field>
        <field name="arch" type="xml">
            <form string="Dashboard de Obra">
                <header>
                    <button name="action_start_execution" type="object" string="▶ Iniciar Ejecución" class="oe_highlight" invisible="state != 'planning'"/>

                    <button name="action_generate_analytics" string="Generar Analítica" type="object" class="btn-secondary" invisible="not show_generate_analytics_button" confirm="Esto generará cuentas analíticas para la obra y sus partidas. ¿Desea continuar?"/>

                    <button name="action_open_consolidate_wizard" type="object" string="Consolidar Presupuestos" icon="fa-compress" class="oe_highlight" invisible="budget_count &lt; 2"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,planning,running,done"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_budget" type="object" class="oe_stat_button" icon="fa-calculator">
                            <span class="o_stat_text">Ver Presupuesto</span>
                        </button>
                        <button name="action_register_progress" type="object" class="oe_stat_button" icon="fa-tasks">
                            <div class="o_stat_info">
                                <field name="stage_count" class="o_stat_value"/>
                                <span class="o_stat_text">Etapas</span>
                            </div>
                        </button>
                        <button name="action_request_purchase" type="object" class="oe_stat_button" icon="fa-shopping-cart">
                            <span class="o_stat_text">Solicitar Compra</span>
                        </button>
                        <button name="action_open_ai_assistant" type="object" class="oe_stat_button" icon="fa-robot" title="Asistente IA — Configuración">
                            <span class="o_stat_text">Asistente IA</span>
                        </button>

                        <button name="%(action_building_real_line)d" type="action" class="oe_stat_button" icon="fa-money" context="{'search_default_work_id': id, 'default_work_id': id}">
                            <div class="o_stat_info">
                                <span class="o_stat_value">
                                    <field name="amount_paid" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                </span>
                                <span class="o_stat_text">Gastos Reales</span>
                            </div>
                        </button>

                        <!-- Smart Button Costos Operativos (Refactor Etapa 4.1: Solo Adicionales) -->
                        <button name="action_view_additional_costs" type="object" class="oe_stat_button" icon="fa-wrench">
                            <div class="o_stat_info">
                                <field name="cost_additional_count" class="o_stat_value"/>
                                <span class="o_stat_text">Adicionales</span>
                            </div>
                        </button>
                        <!-- Smart Button Evidencias (Etapa 4.2) -->
                        <button name="action_view_evidences" type="object" class="oe_stat_button" icon="fa-camera">
                            <div class="o_stat_info">
                                <field name="evidence_count" class="o_stat_value"/>
                                <span class="o_stat_text">Evidencias</span>
                            </div>
                        </button>
                    </div>
                    <div class="oe_title">
                        <label for="name"/>
                        <h1>
                            <field name="name" placeholder="Nombre de la Obra"/>
                        </h1>
                    </div>

                    <group>
                        <group>
                            <field name="company_id" groups="base.group_multi_company"/>
                            <field name="currency_id" invisible="1"/>
                            <field name="analytic_account_id" readonly="1" invisible="not has_analytic"/>
                            <field name="has_analytic" invisible="1"/>
                            <field name="has_active_consolidated" invisible="1"/>
                            <field name="show_generate_analytics_button" invisible="1"/>
                        </group>
                    </group>

                    <!-- SECTION: Budget KPIs (Card Style) -->
                    <!-- SELECTOR DE PRESUPUESTO (ETAPA 4.3a) -->
                    <field name="budget_count" invisible="1"/>
                    <div style="margin-bottom: 5px; display: flex; justify-content: flex-end; align-items: center;" invisible="budget_count &lt;= 1">
                        <span class="text-muted me-2" style="font-size: 0.9em;">
                            <i class="fa fa-filter"/>
 Visualizando:
                        </span>
                        <div class="d-flex align-items-center gap-2">
                            <div style="width: 300px;">
                                <field name="selected_budget_id" options="{'no_create': True, 'no_open': True}" placeholder="Todos los Presupuestos (Consolidado)"/>
                            </div>
                            <button name="action_clear_budget_selection" type="object" string="Ver Todos" class="btn-link btn-sm" icon="fa-refresh" invisible="not selected_budget_id"/>
                        </div>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <h4 style="margin-bottom: 15px; font-weight: 600; color: #374151;">Presupuesto</h4>
                        <div class="row">
                            <!-- Budget Total -->
                            <div class="col-md-3 col-sm-6 mb-2">
                                <div class="d-flex align-items-center" style="background: #ffffff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); height: 100%;">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center" style="min-width: 48px; height: 48px; background: #f3f4f6; color: #4b5563; font-size: 20px; margin-right: 16px;">
                                        <i class="fa fa-calculator" title="Presupuesto Total"/>
                                    </div>
                                    <div style="flex-grow: 1;">
                                        <span class="text-muted d-block" style="font-size: 0.85rem; font-weight: 500;">Presupuesto Total</span>
                                        <h4 class="mb-0" style="color: #111827; font-weight: 700;">
                                            <field name="budget_total" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                        </h4>
                                    </div>
                                </div>
                            </div>
                            <!-- Committed -->
                            <div class="col-md-3 col-sm-6 mb-2">
                                <div class="d-flex align-items-center" style="background: #ffffff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); position: relative; height: 100%;">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center" style="min-width: 48px; height: 48px; background: #fffbeb; color: #d97706; font-size: 20px; margin-right: 16px;">
                                        <i class="fa fa-lock" title="Monto Comprometido"/>
                                    </div>
                                    <div style="flex-grow: 1;">
                                        <span class="text-muted d-block" style="font-size: 0.85rem; font-weight: 500;">Comprometido</span>
                                        <h4 class="mb-0" style="color: #111827; font-weight: 700;">
                                            <field name="amount_committed" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                        </h4>
                                        <button name="action_view_committed" type="object" string="Ver Detalle" class="btn btn-link p-0" style="font-size: 0.75rem; color: #d97706; text-decoration: none; position: absolute; top: 10px; right: 15px;"/>
                                    </div>
                                </div>
                            </div>
                            <!-- Paid -->
                            <div class="col-md-3 col-sm-6 mb-2">
                                <div class="d-flex align-items-center" style="background: #ffffff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); position: relative; height: 100%;">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center" style="min-width: 48px; height: 48px; background: #ecfdf5; color: #059669; font-size: 20px; margin-right: 16px;">
                                        <i class="fa fa-check-circle" title="Monto Pagado"/>
                                    </div>
                                    <div style="flex-grow: 1;">
                                        <span class="text-muted d-block" style="font-size: 0.85rem; font-weight: 500;">Pagado</span>
                                        <h4 class="mb-0" style="color: #111827; font-weight: 700;">
                                            <field name="amount_paid" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                        </h4>
                                        <button name="action_view_paid" type="object" string="Ver Detalle" class="btn btn-link p-0" style="font-size: 0.75rem; color: #059669; text-decoration: none; position: absolute; top: 10px; right: 15px;"/>
                                    </div>
                                </div>
                            </div>
                            <!-- Available -->
                            <div class="col-md-3 col-sm-6 mb-2">
                                <div class="d-flex align-items-center" style="background: #ffffff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); position: relative; height: 100%;">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center" style="min-width: 48px; height: 48px; background: #eff6ff; color: #3b82f6; font-size: 20px; margin-right: 16px;">
                                        <i class="fa fa-balance-scale" title="Monto Disponible"/>
                                    </div>
                                    <div style="flex-grow: 1;">
                                        <span class="text-muted d-block" style="font-size: 0.85rem; font-weight: 500;">Disponible</span>
                                        <h4 class="mb-0" style="color: #111827; font-weight: 700;">
                                            <field name="amount_available" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                        </h4>
                                        <button name="action_view_available" type="object" string="Ver Detalle" class="btn btn-link p-0" style="font-size: 0.75rem; color: #3b82f6; text-decoration: none; position: absolute; top: 10px; right: 15px;"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- NUEVA SECCION: Costos Operativos (KPIs - Rediseño Profesional) -->
                    <!-- Bloque de 3 tarjetas tipo Dashboard -->
                    <div style="margin-top: 20px; margin-bottom: 20px;">
                        <h4 style="margin-bottom: 15px; font-weight: 600; color: #374151;">Ejecutado Operativo (Costos)</h4>
                        <div class="row">
                            <!-- Card 1: Presupuestado -->
                            <div class="col-md-4 col-sm-12 mb-2">
                                <div class="d-flex align-items-center" style="background: #ffffff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.05);">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center" style="min-width: 48px; height: 48px; background: #eff6ff; color: #3b82f6; font-size: 20px; margin-right: 16px;">
                                        <i class="fa fa-book" title="Ejecutado Presupuestado"/>
                                    </div>
                                    <div>
                                        <span class="text-muted d-block" style="font-size: 0.85rem; font-weight: 500;">Presupuestado Operativo</span>
                                        <h4 class="mb-0" style="color: #111827; font-weight: 700; margin-top: 2px;">
                                            <field name="executed_budgeted_amount" widget="monetary"/>
                                        </h4>
                                    </div>
                                </div>
                            </div>

                            <!-- Card 2: Adicional -->
                            <div class="col-md-4 col-sm-12 mb-2">
                                <div class="d-flex align-items-center" style="background: #ffffff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.05);">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center" style="min-width: 48px; height: 48px; background: #fff7ed; color: #f97316; font-size: 20px; margin-right: 16px;">
                                        <i class="fa fa-wrench" title="Ejecutado Adicional"/>
                                    </div>
                                    <div>
                                        <span class="text-muted d-block" style="font-size: 0.85rem; font-weight: 500;">Gasto Adicional / Indirecto</span>
                                        <h4 class="mb-0" style="color: #111827; font-weight: 700; margin-top: 2px;">
                                            <field name="executed_additional_amount" widget="monetary"/>
                                        </h4>
                                    </div>
                                </div>
                            </div>

                            <!-- Card 3: Total -->
                            <div class="col-md-4 col-sm-12 mb-2">
                                <div class="d-flex align-items-center" style="background: #ffffff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.05);">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center" style="min-width: 48px; height: 48px; background: #ecfdf5; color: #10b981; font-size: 20px; margin-right: 16px;">
                                        <i class="fa fa-money" title="Ejecutado Total"/>
                                    </div>
                                    <div>
                                        <span class="text-muted d-block" style="font-size: 0.85rem; font-weight: 500;">Total Ejecutado Operativo</span>
                                        <h4 class="mb-0" style="color: #111827; font-weight: 700; margin-top: 2px;">
                                            <field name="executed_total_amount" widget="monetary"/>
                                        </h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SECCION: Avance General (Barra full width) -->




                    <field name="active_alert_count" invisible="1"/>
                    <field name="consistency_warning" invisible="1"/>

                    <!-- SECTION: Progress & Health (Card Style) -->
                    <div style="margin-bottom: 20px;">
                        <h4 style="margin-bottom: 15px; font-weight: 600; color: #374151;">Avance y Salud del Proyecto</h4>
                        <div class="row">
                            <!-- Physical Progress -->
                            <div class="col-md-6 col-sm-12 mb-2">
                                <div class="d-flex align-items-center" style="background: #ffffff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); height: 100%;">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center" style="min-width: 48px; height: 48px; background: #f0fdf4; color: #16a34a; font-size: 20px; margin-right: 16px;">
                                        <i class="fa fa-building" title="Avance Físico"/>
                                    </div>
                                    <div style="flex-grow: 1;">
                                        <span class="text-muted d-block" style="font-size: 0.85rem; font-weight: 500;">Avance Físico Global</span>
                                        <div class="d-flex align-items-baseline">
                                            <h3 class="mb-0" style="color: #111827; font-weight: 700; margin-right: 10px;">
                                                <field name="overall_progress" widget="float"/>
%
                                            </h3>
                                            <span class="text-muted" style="font-size: 0.8rem;" invisible="overall_progress != 0">
                                                (Sin registro inicial)
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Financial Progress (Conditional Styling for Alert) -->
                            <div class="col-md-6 col-sm-12 mb-2">
                                <div class="d-flex align-items-center" style="background: #ffffff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); height: 100%; position: relative; overflow: hidden;">

                                    <!-- Normal State Icon -->
                                    <div invisible="consistency_warning" class="rounded-circle d-flex align-items-center justify-content-center" style="min-width: 48px; height: 48px; background: #eff6ff; color: #2563eb; font-size: 20px; margin-right: 16px;">
                                        <i class="fa fa-line-chart" title="Avance Financiero Normal"/>
                                    </div>
                                    <!-- Warning State Icon -->
                                    <div invisible="not consistency_warning" class="rounded-circle d-flex align-items-center justify-content-center" style="min-width: 48px; height: 48px; background: #fef2f2; color: #dc2626; font-size: 20px; margin-right: 16px;">
                                        <i class="fa fa-exclamation-triangle ms-1" title="Avance Financiero con Desviación"/>
                                    </div>

                                    <div style="flex-grow: 1;">
                                        <span class="text-muted d-block" style="font-size: 0.85rem; font-weight: 500;">
                                            Avance Financiero
                                            <span invisible="not consistency_warning" style="color: #dc2626; font-weight: bold; margin-left: 5px;">(Desviación Detectada)</span>
                                        </span>
                                        <div class="d-flex align-items-baseline">
                                            <h3 class="mb-0" style="color: #111827; font-weight: 700; margin-right: 10px;">
                                                <field name="financial_progress" widget="float"/>
%
                                            </h3>
                                            <span invisible="not consistency_warning" style="font-size: 0.8rem; color: #dc2626;">
                                                ⚠ Gasto > Físico
                                            </span>
                                        </div>
                                    </div>
                                    <!-- Optional: Side border for warning -->
                                    <div invisible="not consistency_warning" style="position: absolute; left: 0; top: 0; bottom: 0; width: 4px; background: #dc2626;"></div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- Alerts Banner (Using Bootstrap alert for now, but cleaner) -->
                    <div invisible="active_alert_count == 0" style="margin-bottom: 20px;">
                        <div class="alert alert-warning d-flex align-items-center" role="alert" style="border-radius: 12px; border: 1px solid #fcd34d; background: #fffbeb;">
                            <i class="fa fa-bell text-warning me-3" style="font-size: 24px; margin-right: 15px;" title="Alertas"/>
                            <div style="flex-grow: 1;">
                                <h5 style="color: #92400e; margin: 0 0 5px 0; font-weight: 600;">
                                    Alertas Activas (<field name="active_alert_count" readonly="1"/>
)
                                </h5>
                                <field name="alert_ids" mode="list" domain="[('is_active', '=', True)]" readonly="1">
                                    <list editable="bottom" create="0" delete="0" limit="3" decoration-danger="severity == 'critical'" decoration-warning="severity == 'warning'" no_open="1">
                                        <field name="name" readonly="1"/>
                                    </list>
                                </field>
                            </div>
                        </div>
                    </div>



                    <notebook>

                        <page string="Etapas / Frentes" name="stages">
                            <field name="stage_ids" mode="kanban">
                                <kanban default_group_by="state" class="o_kanban_mobile">
                                    <field name="name"/>
                                    <field name="state"/>
                                    <field name="progress_pct"/>
                                    <field name="responsible_id"/>
                                    <field name="date_deadline"/>
                                    <field name="color"/>
                                    <field name="priority"/>
                                    <templates>
                                        <t t-name="card">
                                            <field name="color" widget="color_picker"/>
                                            <div class="oe_kanban_content">
                                                <div class="o_kanban_record_title">
                                                    <strong>
                                                        <field name="name"/>
                                                    </strong>
                                                </div>
                                                <div class="o_kanban_record_body">
                                                    <field name="progress_pct" widget="progressbar" options="{'editable': true, 'max_value': 100}"/>
                                                </div>
                                                <div class="o_kanban_record_bottom">
                                                    <div class="oe_kanban_bottom_left">
                                                        <field name="priority" widget="priority"/>
                                                    </div>
                                                    <div class="oe_kanban_bottom_right">
                                                        <field name="responsible_id" widget="many2one_avatar_user"/>
                                                        <field name="date_deadline" widget="remaining_days"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban>
                            </field>
                        </page>

                        <page string="Alertas" name="alerts">
                            <field name="active_alert_count" invisible="1"/>
                            <div class="alert alert-warning" role="alert" invisible="active_alert_count == 0">
                                <strong>Alertas Activas:</strong>
                                <field name="active_alert_count" readonly="1"/>
                            </div>
                            <field name="alert_ids" domain="[('is_active', '=', True)]">
                                <list editable="bottom" decoration-danger="severity == 'critical'" decoration-warning="severity == 'warning'" decoration-info="severity == 'info'">
                                    <field name="severity" widget="badge"/>
                                    <field name="alert_type"/>
                                    <field name="name"/>
                                    <field name="is_active" column_invisible="1"/>
                                    <button name="action_dismiss" type="object" string="Descartar" icon="fa-times" title="Descartar alerta"/>
                                </list>
                            </field>
                        </page>

                        <page string="Presupuesto vs Real" name="budget_vs_real">
                            <group>
                                <group string="Configuración de Real">
                                    <field name="real_source" widget="radio" readonly="state == 'done' or real_source != 'internal'"/>
                                    <field name="real_cutover_date" invisible="real_source == 'internal'" readonly="1"/>
                                    <button name="%(action_building_change_real_source_wizard)d" string="Asistente de Migración" type="action" class="btn-link" icon="fa-cogs" groups="building_dashboard.group_building_manager"/>
                                </group>
                                <group string="Resumen Global">
                                    <field name="budget_total" widget="monetary"/>
                                    <button name="%(action_building_real_line)d" string="Ver Gastos Internos" type="action" class="btn-primary" icon="fa-list" context="{'search_default_work_id': id, 'default_work_id': id}"/>
                                </group>
                            </group>

                            <div class="alert alert-info" role="alert" invisible="real_source == 'internal'">
                                <i class="fa fa-info-circle" title="Información"/>
                                <strong>Fuente Contable:</strong> Los datos reales se obtienen de la contabilidad a partir de la fecha de corte.
                            </div>
                        </page>

                        <page string="Configuración" name="config" groups="building_dashboard.group_building_admin">
                            <group>
                                <group string="Datos de la Obra">
                                    <field name="company_id" readonly="1"/>
                                </group>
                                <group string="Estadísticas">
                                    <field name="overall_progress" widget="progressbar"/>
                                    <field name="stage_count"/>
                                    <field name="active_alert_count"/>
                                </group>
                            </group>
                            <separator string="Reglas Operativas (FASE 3.1)"/>
                            <group>
                                <group string="Configuración de Alertas">
                                    <field name="financial_tolerance" help="Porcentaje de tolerancia para alerta de avance financiero vs físico"/>
                                    <field name="days_without_progress" help="Días sin avance para generar alerta en etapas activas"/>
                                </group>
                                <group string="Anticipos">
                                    <field name="client_advance_planned" help="Anticipo planeado del cliente para comparar con anticipos de partidas"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <chatter/>
            </form>
        </field>
    </record>

    <!-- Vista List: Obras -->
    <record id="building_work_view_list" model="ir.ui.view">
        <field name="name">building.work.list</field>
        <field name="model">building.work</field>
        <field name="arch" type="xml">
            <list string="Obras" multi_edit="1">
                <field name="name"/>
                <field name="company_id" groups="base.group_multi_company"/>
                <field name="state" widget="badge" decoration-success="state == 'running'" decoration-warning="state == 'paused'" decoration-info="state == 'draft'" decoration-muted="state == 'done'"/>
                <field name="budget_total" widget="monetary"/>
                <field name="amount_committed" widget="monetary"/>
                <field name="amount_paid" widget="monetary"/>
                <field name="amount_available" widget="monetary"/>
                <field name="stage_count"/>
                <field name="active_alert_count" string="Alertas"/>
                <field name="currency_id" column_invisible="1"/>
            </list>
        </field>
    </record>

    <!-- Vista Kanban: Obras -->
    <record id="building_work_view_kanban" model="ir.ui.view">
        <field name="name">building.work.kanban</field>
        <field name="model">building.work</field>
        <field name="arch" type="xml">
            <kanban class="o_kanban_mobile" default_group_by="state">
                <field name="name"/>
                <field name="state"/>
                <field name="budget_total"/>
                <field name="amount_available"/>
                <field name="overall_progress"/>
                <field name="currency_id"/>
                <templates>
                    <t t-name="card">
                        <div class="oe_kanban_content">
                            <div class="o_kanban_record_title">
                                <strong>
                                    <field name="name"/>
                                </strong>
                            </div>
                            <div class="o_kanban_record_body">
                                <div>Presupuesto: <field name="budget_total" widget="monetary"/>
                                </div>
                                <div>Disponible: <field name="amount_available" widget="monetary"/>
                                </div>
                                <field name="overall_progress" widget="progressbar"/>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- Vista Search: Obras -->
    <record id="building_work_view_search" model="ir.ui.view">
        <field name="name">building.work.search</field>
        <field name="model">building.work</field>
        <field name="arch" type="xml">
            <search string="Buscar Obras">
                <field name="name"/>
                <field name="company_id"/>
                <field name="overall_progress"/>
                <separator/>
                <filter string="En Ejecución" name="running" domain="[('state', '=', 'running')]"/>
                <filter string="Pausadas" name="paused" domain="[('state', '=', 'paused')]"/>
                <filter string="Finalizadas" name="done" domain="[('state', '=', 'done')]"/>
            </search>
        </field>
    </record>

    <!-- Acción: Abrir Dashboard de Obras -->
    <record id="building_work_action" model="ir.actions.act_window">
        <field name="name">Obras</field>
        <field name="res_model">building.work</field>
        <field name="view_mode">kanban,list,form</field>
        <field name="search_view_id" ref="building_work_view_search"/>
        <field name="context">{'search_default_running': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Crear una nueva Obra
            </p>
            <p>
                Gestione sus obras de construcción con KPIs, etapas y alertas.
            </p>
        </field>
    </record>

</odoo>
